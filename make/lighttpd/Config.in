menuconfig FREETZ_PACKAGE_LIGHTTPD
	bool "lighttpd 1.4.59"
	select FREETZ_LIB_libpthread if FREETZ_TARGET_UCLIBC_HAS_multiple_libs
	select FREETZ_LIB_libpcre
	select FREETZ_PACKAGE_LIGHTTPD_MOD_ACCESS
	select FREETZ_PACKAGE_LIGHTTPD_MOD_INDEXFILE
	select FREETZ_PACKAGE_LIGHTTPD_MOD_STATICFILE
	select FREETZ_PACKAGE_LIGHTTPD_MOD_DIRLISTING
	select FREETZ_BUSYBOX_MD5SUM
	default n
	help
		Security, speed, compliance, and flexibility -- all of these describe lighttpd
		(pron. lighty) which is rapidly redefining efficiency of a webserver; as it is
		designed and optimized for high performance environments. With a small memory
		footprint compared to other web-servers, effective management of the cpu-load,
		and advanced feature set (FastCGI, SCGI, Auth, Output-Compression,
		URL-Rewriting and many more) lighttpd is the perfect solution for every server
		that is suffering load problems.
		In case you want to configure virtual hosts, you may want to
		consider the package onlinechanged-cgi which allows you to
		configure multiple DynDNS entries for your box.

if FREETZ_PACKAGE_LIGHTTPD


config FREETZ_PACKAGE_LIGHTTPD_LDD
	bool "Include LDD support"
	select FREETZ_PACKAGE_LDD
	default n
	help
		This option includes the /usr/bin/ldd application which is used
		to automatically copy php-cgi and all libraries it depends on
		into the chroot in case a chroot is configured for with the
		lighttpd frontend and php-cgi is configured to be used.

config FREETZ_PACKAGE_LIGHTTPD_WITH_LUA
	bool "Build with LUA support"
	select FREETZ_LIB_liblua
	default n
	help
		This option enables LUA support for lighttpd.
		mod_cml and mod_magnet modules depend on it.


config FREETZ_PACKAGE_LIGHTTPD_WITH_SSL
	bool "Build with SSL support"
	select FREETZ_PACKAGE_LIGHTTPD_MOD_OPENSSL
	default n
	help
		This option enables HTTPS support for lighttpd.

if FREETZ_PACKAGE_LIGHTTPD_WITH_SSL

choice
	prompt "Provided by"
	default FREETZ_PACKAGE_LIGHTTPD_MOD_OPENSSL
		help
			This option adds the selected file to the image.
			Please see https://redmine.lighttpd.net/wiki/1/Docs:SSL
			for more information on the module.

	config FREETZ_PACKAGE_LIGHTTPD_MOD_OPENSSL
		bool "mod_openssl"
		select FREETZ_LIB_libcrypto

	config FREETZ_PACKAGE_LIGHTTPD_MOD_MBEDTLS
		bool "mod_mbedtls - EXPERIMENTAL"
		select FREETZ_LIB_libmbedcrypto

#	#requires WOLFSSL not available in freetz
#	config FREETZ_PACKAGE_LIGHTTPD_MOD_WOLFSSL
#		bool "mod_wolfssl - EXPERIMENTAL"
#		select FREETZ_LIB_...

	config FREETZ_PACKAGE_LIGHTTPD_MOD_GNUTLS
		bool "mod_gnutls - EXPERIMENTAL"
		select FREETZ_LIB_libgnutls

#	#requires NSS not available in freetz
#	config FREETZ_PACKAGE_LIGHTTPD_MOD_NSS
#		bool "mod_nss - EXPERIMENTAL"
#		select FREETZ_LIB_...

endchoice # "Build with SSL support"

config FREETZ_PACKAGE_LIGHTTPD_ACME
	bool "Select ACME.sh"
	select FREETZ_PACKAGE_ACME
	default n
	help
		This selects ACME.sh package for Let's Encrypt certificates.

config FREETZ_PACKAGE_LIGHTTPD_DEHYDRATED
	bool "Select dehydrated"
	select FREETZ_PACKAGE_DEHYDRATED
	default n
	help
		This selects dehydrated package for Let's Encrypt certificates.

endif # FREETZ_PACKAGE_LIGHTTPD_WITH_SSL


comment " Modules"

config FREETZ_PACKAGE_LIGHTTPD_MOD_ACCESS
	bool "mod_access (required module)"
	default y
	help
		This option adds mod_access.so to the image.
		This is a required module, it cannot be deselected.
		Please see https://redmine.lighttpd.net/wiki/1/Docs:ModAccess
		for more information on this module.

config FREETZ_PACKAGE_LIGHTTPD_MOD_ACCESSLOG
	bool "mod_accesslog"
	default y
	help
		This option adds mod_accesslog.so to the image.
		Please see https://redmine.lighttpd.net/wiki/1/Docs:ModAccessLog
		for more information on this module.

config FREETZ_PACKAGE_LIGHTTPD_MOD_AJP13
	bool "mod_ajp13"
	default y
	help
		This option adds mod_ajp13.so to the image.
		Please see https://redmine.lighttpd.net/wiki/1/Docs:ModAjp13
		for more information on this module.

config FREETZ_PACKAGE_LIGHTTPD_MOD_ALIAS
	bool "mod_alias"
	default y
	help
		This option adds mod_alias.so to the image.
		Please see https://redmine.lighttpd.net/wiki/1/Docs:ModAlias
		for more information on this module.

config FREETZ_PACKAGE_LIGHTTPD_MOD_AUTH
	bool "mod_auth"
	default y
	help
		This option adds mod_auth.so to the image.
		Please see https://redmine.lighttpd.net/wiki/1/Docs:ModAuth
		for more information on this module.

#requires libDBI not available in freetz
#config FREETZ_PACKAGE_LIGHTTPD_MOD_AUTHN_DBI
#	bool "mod_authn_dbi"
#	default n

config FREETZ_PACKAGE_LIGHTTPD_MOD_AUTHN_FILE
	bool "mod_authn_file"
	default y

#requires GSS-API/Kerberos not available in freetz
#config FREETZ_PACKAGE_LIGHTTPD_MOD_AUTHN_GSSAPI
#	bool "mod_authn_gssapi"
#	default n

#requires LDAP not available in freetz
#config FREETZ_PACKAGE_LIGHTTPD_MOD_AUTHN_LDAP
#	bool "mod_authn_ldap"
#	default n

#requires mysql not available in freetz
#config FREETZ_PACKAGE_LIGHTTPD_MOD_AUTHN_MYSQL
#	bool "mod_authn_mysql - DEPRECATED"
#	default n

config FREETZ_PACKAGE_LIGHTTPD_MOD_CGI
	bool "mod_cgi"
	default y
	help
		This option adds mod_cgi.so to the image.
		Please see https://redmine.lighttpd.net/wiki/1/Docs:ModCGI
		for more information on this module.

config FREETZ_PACKAGE_LIGHTTPD_MOD_CML
	bool "mod_cml"
	depends on FREETZ_PACKAGE_LIGHTTPD_WITH_LUA
	default y
	help
		This option adds mod_cml.so to the image.
		Please see https://redmine.lighttpd.net/wiki/1/Docs:ModCML
		for more information on this module.

config FREETZ_PACKAGE_LIGHTTPD_MOD_DEFLATE
	bool "mod_deflate"
	select FREETZ_LIB_libz
	default y
	help
		This option adds mod_deflate.so to the image.
		Please see https://redmine.lighttpd.net/wiki/1/Docs:ModDeflate
		for more information on this module.

config FREETZ_PACKAGE_LIGHTTPD_MOD_DIRLISTING
	bool "mod_dirlisting (required module)"
	default y
	help
		This option adds mod_dirlisting.so to the image.
		Please see https://redmine.lighttpd.net/wiki/1/Docs:ModDirListing
		for more information on this module.


config FREETZ_PACKAGE_LIGHTTPD_MOD_EVASIVE
	bool "mod_evasive"
	default y
	help
		This option adds mod_evasive.so to the image.
		Please see https://redmine.lighttpd.net/wiki/1/Docs:ModEvasive
		for more information on this module.

config FREETZ_PACKAGE_LIGHTTPD_MOD_EVHOST
	bool "mod_evhost"
	default y
	help
		This option adds mod_evhost.so to the image.
		Please see https://redmine.lighttpd.net/wiki/1/Docs:ModEVhost
		for more information on this module.

config FREETZ_PACKAGE_LIGHTTPD_MOD_EXPIRE
	bool "mod_expire"
	default y
	help
		This option adds mod_expire.so to the image.
		Please see https://redmine.lighttpd.net/wiki/1/Docs:ModExpire
		for more information on this module.

config FREETZ_PACKAGE_LIGHTTPD_MOD_EXTFORWARD
	bool "mod_extforward"
	default y
	help
		This option adds mod_extforward.so to the image.
		Please see https://redmine.lighttpd.net/wiki/1/Docs:ModExtForward
		for more information on this module.

config FREETZ_PACKAGE_LIGHTTPD_MOD_FASTCGI
	bool "mod_fastcgi"
	default y
	help
		This option adds mod_fastcgi.so to the image.
		Please see https://redmine.lighttpd.net/wiki/1/Docs:ModFastCGI
		for more information on this module.

config FREETZ_PACKAGE_LIGHTTPD_MOD_FLV_STREAMING
	bool "mod_flv_streaming"
	default y
	help
		This option adds mod_flv_streaming.so to the image.
		Please see https://redmine.lighttpd.net/wiki/1/Docs:ModFLVStreaming
		for more information on this module.

#requires libGeoIP not available in freetz
#config FREETZ_PACKAGE_LIGHTTPD_MOD_GEOIP
#	bool "mod_geoip - DEPRECATED"
#	default n

config FREETZ_PACKAGE_LIGHTTPD_MOD_INDEXFILE
	bool "mod_indexfile (required module)"
	default y
	help
		This option adds mod_indexfile.so to the image.
		This is a required module, it cannot be deselected.
		Please see https://redmine.lighttpd.net/wiki/1/Docs:ModIndexFile
		for more information on this module.

#requires libmaxminddb not available in freetz
#config FREETZ_PACKAGE_LIGHTTPD_MOD_MAXMINDDB
#	bool "mod_maxminddb"
#	default n

config FREETZ_PACKAGE_LIGHTTPD_MOD_MAGNET
	bool "mod_magnet"
	depends on FREETZ_PACKAGE_LIGHTTPD_WITH_LUA
	default y
	help
		This option adds mod_magnet.so to the image.
		Please see https://redmine.lighttpd.net/wiki/1/Docs:ModMagnet
		for more information on this module.

config FREETZ_PACKAGE_LIGHTTPD_MOD_SOCKPROXY
	bool "mod_sockproxy"
	default y
	help
		This option adds mod_sockproxy.so to the image.
		Please see https://redmine.lighttpd.net/wiki/1/Docs:ModSockProxy
		for more information on this module.

#requires mysql not available in freetz
#config FREETZ_PACKAGE_LIGHTTPD_MOD_MYSQL_VHOST
#	bool "mod_mysql_vhost"
#	default y
#	help
#		This option adds mod_mysql_vhost.so to the image.
#		Please see https://redmine.lighttpd.net/wiki/1/Docs:ModMySQLVhost
#		for more information on this module.

config FREETZ_PACKAGE_LIGHTTPD_MOD_PROXY
	bool "mod_proxy"
	default y
	help
		This option adds mod_proxy.so to the image.
		Please see https://redmine.lighttpd.net/wiki/1/Docs:ModProxy
		for more information on this module.

config FREETZ_PACKAGE_LIGHTTPD_MOD_REDIRECT
	bool "mod_redirect"
	default y
	help
		This option adds mod_redirect.so to the image.
		Please see https://redmine.lighttpd.net/wiki/1/Docs:ModRedirect
		for more information on this module.

config FREETZ_PACKAGE_LIGHTTPD_MOD_REWRITE
	bool "mod_rewrite"
	default y
	help
		This option adds mod_rewrite.so to the image.
		Please see https://redmine.lighttpd.net/wiki/1/Docs:ModRewrite
		for more information on this module.

config FREETZ_PACKAGE_LIGHTTPD_MOD_RRDTOOL
	bool "mod_rrdtool"
	select FREETZ_PACKAGE_RRDTOOL
	default y
	help
		This option adds mod_rrdtool.so to the image.
		Please see https://redmine.lighttpd.net/wiki/1/Docs:ModRRDTool
		for more information on this module.

config FREETZ_PACKAGE_LIGHTTPD_MOD_SCGI
	bool "mod_scgi"
	default y
	help
		This option adds mod_scgi.so to the image.
		Please see https://redmine.lighttpd.net/wiki/1/Docs:ModSCGI
		for more information on this module.

config FREETZ_PACKAGE_LIGHTTPD_MOD_SECDOWNLOAD
	bool "mod_secdownload"
	default y
	help
		This option adds mod_secdownload.so to the image.
		Please see https://redmine.lighttpd.net/wiki/1/Docs:ModSecDownload
		for more information on this module.

config FREETZ_PACKAGE_LIGHTTPD_MOD_SETENV
	bool "mod_setenv"
	default y
	help
		This option adds mod_setenv.so to the image.
		Please see https://redmine.lighttpd.net/wiki/1/Docs:ModSetEnv
		for more information on this module.

config FREETZ_PACKAGE_LIGHTTPD_MOD_SIMPLE_VHOST
	bool "mod_simple_vhost"
	default y
	help
		This option adds mod_simple_vhost.so to the image.
		Please see https://redmine.lighttpd.net/wiki/1/Docs:ModSimpleVhost
		for more information on this module.

config FREETZ_PACKAGE_LIGHTTPD_MOD_SSI
	bool "mod_ssi"
	default y
	help
		This option adds mod_ssi.so to the image.
		Please see https://redmine.lighttpd.net/wiki/1/Docs:ModSSI
		for more information on this module.

config FREETZ_PACKAGE_LIGHTTPD_MOD_STATICFILE
	bool "mod_staticfile (required module)"
	default y
	help
		This option adds mod_staticfile.so to the image.
		This is a required module, it cannot be deselected.
		Please see https://redmine.lighttpd.net/projects/1/wiki/
		for more information on this module.

config FREETZ_PACKAGE_LIGHTTPD_MOD_STATUS
	bool "mod_status"
	default y
	help
		This option adds mod_status.so to the image.
		Please see https://redmine.lighttpd.net/wiki/1/Docs:ModStatus
		for more information on this module.

#requires libgdbm or libmemcached, both not available in freetz
#config FREETZ_PACKAGE_LIGHTTPD_MOD_TRIGGER_B4_DL
#	bool "mod_trigger_b4_dl"
#	default y
#	help
#		This option adds mod_trigger_b4_dl.so to the image.
#		Please see https://redmine.lighttpd.net/projects/1/wiki/
#		for more information on this module.

config FREETZ_PACKAGE_LIGHTTPD_MOD_UPLOADPROGRESS
	bool "mod_uploadprogress"
	default y
	help
		This option adds mod_userdir.so to the image.
		Please see https://redmine.lighttpd.net/wiki/1/Docs:ModUploadprogress
		for more information on this module.

config FREETZ_PACKAGE_LIGHTTPD_MOD_USERDIR
	bool "mod_userdir"
	default y
	help
		This option adds mod_userdir.so to the image.
		Please see https://redmine.lighttpd.net/wiki/1/Docs:ModUserDir
		for more information on this module.

config FREETZ_PACKAGE_LIGHTTPD_MOD_USERTRACK
	bool "mod_usertrack"
	default y
	help
		This option adds mod_usertrack.so to the image.
		Please see https://redmine.lighttpd.net/wiki/1/Docs:ModUserTrack
		for more information on this module.

config FREETZ_PACKAGE_LIGHTTPD_MOD_VHOSTDB
	bool "mod_vhostdb"
	default y
	help
		This option adds mod_vhostdb.so to the image.
		Please see https://redmine.lighttpd.net/wiki/1/Docs:ModVhostDB
		for more information on this module.

#requires libDBI not available in freetz
#config FREETZ_PACKAGE_LIGHTTPD_MOD_VHOSTDB_DBI
#	bool "mod_vhost_dbi"
#	default n

#requires mysql not available in freetz
#config FREETZ_PACKAGE_LIGHTTPD_MOD_VHOSTDB_MYSQL
#	bool "mod_vhost_mysql"
#	default n

config FREETZ_PACKAGE_LIGHTTPD_MOD_WEBDAV
	bool "mod_webdav"
	default y
	help
		This option adds mod_webdav.so to the image.
		Please see https://redmine.lighttpd.net/wiki/1/Docs:ModWebDav
		for more information on this module.

config FREETZ_PACKAGE_LIGHTTPD_MOD_WEBDAV_WITH_PROPS
	bool "Enable properties support"
	depends on FREETZ_PACKAGE_LIGHTTPD_MOD_WEBDAV
	select FREETZ_LIB_libxml2
	select FREETZ_LIB_libsqlite3
	default n
	help
		This option enables properties support in mod_webdav.

config FREETZ_PACKAGE_LIGHTTPD_MOD_WEBDAV_WITH_LOCKS
	bool "Enable locks"
	depends on FREETZ_PACKAGE_LIGHTTPD_MOD_WEBDAV_WITH_PROPS
	select FREETZ_LIB_libuuid
	default n
	help
		This option enables locks in mod_webdav.

config FREETZ_PACKAGE_LIGHTTPD_MOD_WSTUNNEL
	bool "mod_wstunnel"
	default y
	help
		This option adds mod_wstunnel.so to the image.
		Please see https://redmine.lighttpd.net/wiki/1/Docs:ModWStunnel
		for more information on this module.

endif # FREETZ_PACKAGE_LIGHTTPD

